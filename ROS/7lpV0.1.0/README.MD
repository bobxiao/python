# python脚本通过ROS-API获取hotshot认证用户信息
## 简介
1.  原始的数据获取方式是由ROS本地将数据筛选、整理、格式化后，再访问NodeJs的服务器,
由服务器来处理这些数据，并存入数据库。
2.  现在我们采用API的方式，由服务器主动从ROS上读取数据，在交由python做数据处理，筛选、整理、
格式化后再存入数据库。

    优势有3：

    1 首先是在ROS中使用
    >print
    
    命令获取的数据不够完全，而使用API的方式可以获得更为广泛的数据，比如手机所在的cap等。
    
    2 故障排查方便：原方法只有唯一一个方式来确认数据采集工作出现问题――数据库没有增长，而且
    无法确认故障出现的位置，现在使用的方法采集、整理、格式化都有服务器上的Python脚本完成，
    每个阶段都可以插入日志输出，方便排查。
    
    3 降低ROS设备性能开销

## 实现方式
1 使用daemon生成守护进程

2 守护进程通过getdata调用ROS-API获取hotpspot数据$v_list

3 然后将$v_list通过sqlinsert注入到数据库中

4 由于守护进程调用getdata时会出现莫名假死，所以我在服务器上启用crond周期性登陆数据库检查数据库
的增长，判断守护进程情况，并重启main_d。